# Countdown Timer
This project pretends to create a countdown timer that can be used in different situations. The user can set the time and the timer will start counting down. When the time is up, the timer will play a sound to alert the user.

Project Website: [Countdown Timer](https://main--arkon-data-test.netlify.app/)

## Features
- **Tasks**: The user can create tasks and set the time for each one. The user can edit and delete it as well.
- **Timer**: The user can set the time and the timer will start counting down. The user can pause, resume, stop and restart the timer.
- **Sound**: When the time is up, the timer will play a sound to alert the user.
- **Analytics**: The user can see the tasks completed in the last 7 days.
- **Responsive**: The application is responsive and can be used on different devices.

## Technologies
- **HTML, CSS**: For the structure and styling of the application.
- **TypeScript**: Used for safer and strongly typed development.
- **Vite**: Tool used for fast project creation and development.

## Main libraries used in the project
### [Redux Toolkit](https://redux-toolkit.js.org/)
  This library was used to manage the state of the application, tasks and the timer.
### [React-bootstrap](https://react-bootstrap.github.io/)
  It's used to create the UI components used in the project.

### [React-icons](https://react-icons.github.io/react-icons/)
  To add icons to the project, the React-icons library was used.
### [Victory](https://formidable.com/open-source/victory/)
  It's used to create the chart that shows the tasks completed by the user in the analytics page.
### [react-router-dom](https://reactrouter.com/en/main)
  To create the task page and the analytics page, the react-router-dom library was used.
### [dayjs](https://day.js.org/)
  Some functions use the dayjs library to manipulate dates.
### [fakerjs](https://fakerjs.dev/)
  Inside this project there is a script that generates fake data to be used in the application. The fakerjs library was used to generate this data.


## Prerequisites
- Node.js (v18.0.0 or higher) installed
- Visual Studio Code (or any other code editor)
- Git installed

## How to run
1. Clone the repository and open the project folder
2. Run `npm install`
3. Run `npm run dev`
4. Open your browser and go to `http://localhost:5173/`

## How to run tests
1. Run the command `npm run test`
2. To see the coverage, run the command `npm run coverage`

We are using the [vitest](https://vitest.dev/) library with [react-testing-library](https://github.com/testing-library/react-testing-library) to run the tests and the coverage is generated by the [@vitest/coverage-v8](https://www.npmjs.com/package/@vitest/coverage-v8) library.

## How to create fake data to test the application
1. Run the command `npm run create-tasks`
2. Go to `src/store/slices/tasksSlice.ts` file and change the `tasks` variable to the value of the `tasks.json` file
  ```typescript
    import tasks from '../../database/tasks.json'

    const tasksSlice = createSlice({
      name: 'tasks',
      initialState: {
        // addedTasks:  transformToObj<Task[], Task[]>(savedTasks, tasks as Task[]) || [],
        // If you want to use the tasks saved in the localStorage, uncomment the line above and comment the line below
        addedTasks: tasks as Task[],
      },
      ...
  })
  ```
1. Run `npm run dev` command to see the changes

If you want to add more tasks, you can modify the `src/script.js` file and run the `npm run create-tasks` command again.
  ```javascript
    const array = generateTasks(50); // Change the number to the amount of tasks you want to generate
  ```

**IMPORTANT**: If you ran the application and create tasks before these steps. There could be a problem with the persistence of the data. To avoid this problem. Follow the steps below to resolve it.

1. Go to the `src/App.tsx` file and comment the useEffect that calls the `saveTasks` function
  ```typescript
    useEffect(() => {
      const saveData = () => {
        localStorage.setItem('addedTasks', JSON.stringify(tasks.addedTasks))
        localStorage.setItem('task', JSON.stringify(timer.task))
      }
      window.addEventListener('beforeunload', saveData)
      return () => {
        window.removeEventListener('beforeunload', saveData)
      }
    }, [tasks, timer])
  ```
2. With the application running, go to the localStorage and delete the `addedTasks` and `task` keys
3. Run the steps to create fake data

When you finish the steps, uncomment the `useEffect` in the `src/App.tsx` file and run the application again (To keep the data saved in the localStorage).

## Known issues
  There are no known issues at the moment.

## Future improvements
- Add a API to save the tasks and analytics data
- Change the sound when the timer is up
- Add a sound when the timer is started
- Custom sound for each task
- Add a notification when the timer is up
- Improve the UI of the application
- Add a dark mode

## License
This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

